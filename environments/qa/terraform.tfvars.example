# QA Environment Configuration - EXAMPLE
# IMPORTANTE: Copie este arquivo para terraform.tfvars e ajuste os valores

# Container orchestrator configuration
container_orchestrator = "ecs"  # ou "eks"
project_name           = "chame-bina"
environment            = "qa"
aws_region             = "us-east-1"

# Repository configuration
repository_names = ["backend", "frontend"]

# Network configuration
cidr_block = "10.1.0.0/16"
public_subnet_cidrs = [
  "10.1.1.0/24",  # us-east-1a
  "10.1.3.0/24",  # us-east-1b  
  "10.1.5.0/24"   # us-east-1c
]
private_subnet_cidrs = [
  "10.1.2.0/24",  # us-east-1a
  "10.1.4.0/24",  # us-east-1b
  "10.1.6.0/24"   # us-east-1c
]

# Admin access (substitua pelo seu ARN de usuário)
admin_user_arn = "arn:aws:iam::YOUR-ACCOUNT-ID:user/YOUR-USERNAME"

# EKS Node groups configuration (usado apenas se container_orchestrator = "eks")
node_groups = {
  backend = {
    instance_types  = ["t3.micro"]
    capacity_type   = "ON_DEMAND"
    desired_size    = 1
    max_size        = 2
    min_size        = 1
    max_unavailable = 1
  }
  frontend = {
    instance_types  = ["t3.micro"]
    capacity_type   = "ON_DEMAND"
    desired_size    = 1
    max_size        = 2
    min_size        = 1
    max_unavailable = 1
  }
}

# ECS services configuration (usado apenas se container_orchestrator = "ecs")
ecs_services = {
  backend = {
    cpu               = 256
    memory            = 512
    desired_count     = 1
    port              = 8080
    health_check_path = "/health"
  }
  frontend = {
    cpu               = 256
    memory            = 512
    desired_count     = 1
    port              = 3000
    health_check_path = "/"
  }
}

# RDS Database Configuration
rds_instance_class          = "db.t3.micro"      # Classe da instância RDS
rds_allocated_storage       = 20                 # Armazenamento inicial em GB
rds_max_allocated_storage   = 100               # Armazenamento máximo para autoscaling
rds_backup_retention_period = 7                 # Dias de retenção de backup
rds_deletion_protection     = false             # Proteção contra exclusão (true para produção)
rds_skip_final_snapshot     = true              # Pular snapshot final (false para produção)

# Azure DevOps OIDC Configuration (opcional)
# Descomente e configure se quiser usar OIDC com Azure DevOps
# azure_devops_organization = "your-organization"
# azure_devops_project      = "your-project"